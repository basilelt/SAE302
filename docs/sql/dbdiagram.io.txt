// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs


Table utilisateurs {
  id INT [primary key, increment]
  nom VARCHAR(40) [not null, unique]
  mdp VARCHAR(60) [not null]
  statut BOOL [default: False]
  date_creation TIMESTAMP
}

Table salons {
  id INT [primary key, increment]
  nom VARCHAR(60) [not null]
  type VARCHAR(6) [not null]
}

Table messages {
  id INT [primary key, increment]
  user_id INT
  salon_id INT
  date_message TIMESTAMP
  ip VARCHAR(39)
  body TEXT(2000) [note: 'Contenu du message']
}

Table appartenance {
  user_id INT [primary key]
  salon_id INT [primary key]
  test BOOL [default: False]
}

Ref: appartenance.salon_id < salons.id
Ref: appartenance.user_id < utilisateurs.id
Ref: messages.user_id < utilisateurs.id
Ref: messages.salon_id < salons.id
